5;2021/02/01 20:36:06;Ouverture de la trace Sfao
5;2021/02/01 20:36:06;C:\Users\pno\Documents\Projets\SFAO\SFAO-v6-f4.0\SFAO\bin\x86\Debug PNO\Traces\Trace_Sfao_US4_20210201_20_36_06.tra
5;2021/02/01 20:36:06;Site : BRO
5;2021/02/01 20:36:06;Dossier : GBIV6
5;2021/02/01 20:36:06;Poste : US4
0;2021/02/01 20:36:06;Fonction de création/mise à jour de la base locale Sqlite
0;2021/02/01 20:36:06;[CreationBaseLocale] : Base de donnée locale existante
0;2021/02/01 20:36:06;Ouverture connexion à la base locale
0;2021/02/01 20:36:06;Base locale ouverture connection avec timeout : 15
0;2021/02/01 20:36:06;connexion base locale ouverte
0;2021/02/01 20:36:06;connexionString : DataSource=C:\Users\pno\Documents\Projets\SFAO\SFAO-v6-f4.0\SFAO\bin\x86\Debug PNO\BDL\BRODART\GBIV6\baselocaleGBIV6.db;Version=3;
0;2021/02/01 20:36:06;Recupération du nombre de lignes avec des valeurs !
0;2021/02/01 20:36:06;Rajout de la liste des tables de la base dans la listTables !
0;2021/02/01 20:36:06;Requête pour avoir toutes les tables de la base exécutée avec réussite !
0;2021/02/01 20:36:06;Parcours ligne par ligne du fichier csv !
0;2021/02/01 20:36:06;La table CNXLOG existe dans la base sqlite !
0;2021/02/01 20:36:06;DROP TABLE IF EXISTS CNXLOGTMP; CREATE TABLE CNXLOGTMP (IDCNX INTEGER PRIMARY KEY NOT NULL,SITE VARCHAR(5)  NOT NULL DEFAULT "",DOSSIER VARCHAR(15)  NOT NULL DEFAULT "",POSTE VARCHAR(8)  NOT NULL DEFAULT "",DTDEB VARCHAR(20)  NOT NULL DEFAULT "",DEBUT INT  NOT NULL DEFAULT 0,DTFIN VARCHAR(20)  NOT NULL DEFAULT "",FIN INT  NULL);
0;2021/02/01 20:36:06;Requete pour créer une tabl temporaire CNXLOGTMP !
0;2021/02/01 20:36:06;Parcours du tableau pour voir si PRIMARY KEY ou UNIQUE apparait dans une requête 
0;2021/02/01 20:36:06;Création du champ en format PRIMARY KEY(__,__,...), UNIQUE(_,_,...)
0;2021/02/01 20:36:06;Ajout des champs PK et Unique dans listChamps
0;2021/02/01 20:36:06;Suppression de listeChamps d'un champ vide au cas où !
0;2021/02/01 20:36:06;Récupération des champs champPk avec PK et champUnique UN !
0;2021/02/01 20:36:06;Suppression des deux champs champPk,champUnique de la liste listeChamps temporairement !
0;2021/02/01 20:36:06;Récupération du début de la requête debutrequ !
0;2021/02/01 20:36:06;Transformation de la liste listeChamps en chaines séparéées par ',' pour reformer la requête !
0;2021/02/01 20:36:06;On concatène le debutreq + req + les deux champs enlevés précédemment !
0;2021/02/01 20:36:06;DROP TABLE IF EXISTS CNXLOGTMP; CREATE TABLE CNXLOGTMP ( IDCNX INTEGER  NOT NULL,SITE VARCHAR(5)  NOT NULL DEFAULT "",DOSSIER VARCHAR(15)  NOT NULL DEFAULT "",POSTE VARCHAR(8)  NOT NULL DEFAULT "",DTDEB VARCHAR(20)  NOT NULL DEFAULT "",DEBUT INT  NOT NULL DEFAULT 0,DTFIN VARCHAR(20)  NOT NULL DEFAULT "",FIN INT  NULL, PRIMARY KEY ( IDCNX ))
0;2021/02/01 20:36:06;Creation de la table (nouvelle table ou table temporaire) réussie
0;2021/02/01 20:36:06;Récupération de chaque champ de la table1 !
0;2021/02/01 20:36:06;Récupération de chaque champ de la table2 !
0;2021/02/01 20:36:06;On procède à la comparaison des champs des deux tables !
0;2021/02/01 20:36:06;Lecture du fichier csv réussie et modification de la table non nécessaire !
0;2021/02/01 20:36:06;Rajout de la liste des tables de la base dans la listTables !
0;2021/02/01 20:36:06;Requête pour avoir toutes les tables de la base exécutée avec réussite !
0;2021/02/01 20:36:06;Récupération de listTabSqlite, la liste des tables de la base de données 
0;2021/02/01 20:36:06;Suppression des tables OLD et TMP
0;2021/02/01 20:36:06;Récupération de la liste des tables du répertoire Resources
0;2021/02/01 20:36:06;Test si une table de la base n'est pas dans la liste des tables dans Resources et la supprimer
0;2021/02/01 20:36:06;Enregistrement connexion du poste dans la table CNXLOG
0;2021/02/01 20:36:06;Ouverture connexion à la base locale
0;2021/02/01 20:36:06;Connexion base locale SQLite ouverte
0;2021/02/01 20:36:06;[ConnexionPoste] enregistrement connexion n° 11 ok
0;2021/02/01 20:36:06;Sauvegarde de la dernière saisie dans le fichier conf
5;2021/02/01 20:36:06;Lancement fenêtre SFAO
0;2021/02/01 20:36:06;Initialisation des intitulés de la situation des composants
0;2021/02/01 20:36:06;Initialisation des événements et actions du poste
0;2021/02/01 20:36:06;Bouton F01 activé pour l'événement n° 1000 Arrivée opérateur
0;2021/02/01 20:36:06;Bouton F02 activé pour l'événement n° 1010 Début opération
0;2021/02/01 20:36:06;Bouton F03 activé pour l'événement n° 1030 Réglage(s)
0;2021/02/01 20:36:06;Bouton F04 activé pour l'événement n° 1020 Matière(s) utilisées
0;2021/02/01 20:36:06;Bouton F05 activé pour l'événement n° 1040 Production
0;2021/02/01 20:36:06;Bouton F06 activé pour l'événement n° 1055 Déclaration automatique
0;2021/02/01 20:36:06;Bouton F07 activé pour l'événement n° 1050 Déclaration production
0;2021/02/01 20:36:06;Bouton F08 activé pour l'événement n° 1060 Déclaration gâche/rebut
0;2021/02/01 20:36:06;Bouton F09 activé pour l'événement n° 1070 Démontage
0;2021/02/01 20:36:06;Bouton F10 activé pour l'événement n° 1080 Interruption
0;2021/02/01 20:36:06;Bouton F11 activé pour l'événement n° 1090 Fin opération
0;2021/02/01 20:36:06;Bouton F12 activé pour l'événement n° 1100 Départ opérateur
0;2021/02/01 20:36:06;Bouton A01 activé pour l'action n° 1282 Contresign&ature BAT
0;2021/02/01 20:36:06;Bouton A02 activé pour l'action n° 1190 &Bilan d'opération
0;2021/02/01 20:36:06;Bouton A03 activé pour l'action n° 1200 &Consommation matière(s)
0;2021/02/01 20:36:06;Bouton A04 activé pour l'action n° 1180 &Derniers OF produits
0;2021/02/01 20:36:07;Bouton A05 activé pour l'action n° 1210 R&éédition d'étiquette
0;2021/02/01 20:36:07;Bouton A06 activé pour l'action n° 1300 Opération &hors OF
0;2021/02/01 20:36:07;Bouton A07 activé pour l'action n° 1185 Gest&ion Impressions
0;2021/02/01 20:36:07;Bouton A08 activé pour l'action n° 1500 Etiquettes carton (&K)
0;2021/02/01 20:36:07;Bouton A09 activé pour l'action n° 1240 Changement de &lot
0;2021/02/01 20:36:07;Bouton A10 activé pour l'action n° 1400 Mise e&n non-conformité
0;2021/02/01 20:36:07;Bouton A11 activé pour l'action n° 1280 Validation &palette
0;2021/02/01 20:36:07;Bouton A12 activé pour l'action n° 1220 &Retour matière(s) en stock
0;2021/02/01 20:36:07;Bouton A13 activé pour l'action n° 1065 &Supprimer une déclaration
0;2021/02/01 20:36:07;Bouton A14 activé pour l'action n° 1410 Mise au &visionnage
0;2021/02/01 20:36:07;Bouton A15 activé pour l'action n° 1260 Opération d’OF e&xceptionnelle
0;2021/02/01 20:36:07;Bouton A16 désactivé
0;2021/02/01 20:36:07;Bouton A17 désactivé
0;2021/02/01 20:36:07;Bouton A18 désactivé
0;2021/02/01 20:36:07;Bouton A19 désactivé
0;2021/02/01 20:36:07;Bouton A20 désactivé
0;2021/02/01 20:36:07;SituationPoste
0;2021/02/01 20:36:07;[WSGETSITPS] Parametres : {"GRP1":{"WST":"US4","FCY":"BRO","ZRET":0,"ZMSG":""},"GRP2":[]}
0;2021/02/01 20:36:07;[WSGETSITPS] Resultat : {"GRP1":{"WST":"US4","FCY":"BRO","ZRET":"1","ZMSG":""},"GRP2":[{"XEMPNUM":"7002","ZEMPDES":"Intérimaire 2","XTYPE":"1","XTYPE_LBL":"Opérateur","XEVENT":"1040","ZEVTDES":"Production","XDATEVT":"20210201","XTIMEVT":"65188","XMFGNUM":"OFB2100291","XOPENUM":"20","ZROODES":"Bobinage + nettoyage","XBPCNUM":"C004078","XBPCNAM":"SANOFI WINTHROP INDUSTRIE","XDATENT":"20210201","XTIMENT":"47195","ZOPEXC":"0","ZTYPOPHOF":"0"}]}
0;2021/02/01 20:36:07;SituationOfOp
0;2021/02/01 20:36:07;[WSGETSITOF] Parametres : {"GRP1":{"WST":"US4","FCY":"BRO","ZRET":0,"ZMSG":""},"GRP2":[]}
2;2021/02/01 20:36:08;[WSGETSITOF] Erreur statut du web service !
2;2021/02/01 20:36:08; ErrNum=[75] ErrLine=[443] ErrPgm=[@GBIV6.TRT/ZSFAOWS$adx] ErrTyp=[1] ErrMess=[ORA-01417: a table may be outer joined to at most one other table : Erreur Oracle]
2;2021/02/01 20:36:08;**Exception** - Class[CCommException] ErrNum=[75] ErrLine=[443] ErrPgm=[@GBIV6.TRT/ZSFAOWS$adx] ErrTyp=[1] ErrMess=[ORA-01417: a table may be outer joined to at most one other table : Erreur Oracle]  --Stack--  com.adonix.x3.comm.client.adonix.pool.CPoolRequestSpgm.validReply(CPoolRequestSpgm.java:354)  com.adonix.x3.comm.client.adonix.pool.CPoolEntry.validReply(CPoolEntry.java:1358)  com.adonix.x3.comm.client.adonix.pool.CPoolEntry.sendActionCallRemote(CPoolEntry.java:1108)  com.adonix.x3.comm.client.adonix.pool.CPoolThreadExecutor.execOneAckCall(CPoolThreadExecutor.java:238)  com.adonix.x3.comm.client.adonix.pool.CPoolThreadExecutor.doExecute(CPoolThreadExecutor.java:314)  com.adonix.x3.comm.client.adonix.pool.CPoolThreadLock.run(CPoolThreadLock.java:139)  java.lang.Thread.run(Thread.java:745)
0;2021/02/01 20:36:08;Affichage des indicateurs
0;2021/02/01 20:36:08;SituationCps
5;2021/02/01 20:36:16;Fermeture fenêtre SFAO
0;2021/02/01 20:36:16;Ouverture connexion à la base locale
0;2021/02/01 20:36:16;Connexion base locale SQLite ouverte
0;2021/02/01 20:36:16;Enregistrement déconnexion : ok 
5;2021/02/01 20:36:16;Fermeture de la trace
